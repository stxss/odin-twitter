<%= turbo_frame_tag "tweet_#{t.id}" do %>
  <div class="tweet">
    <% if @show_replies && t.parent_tweet_id %>
      Replying to
      <%= link_to "@#{User.find(Tweet.find(t.parent_tweet_id).user_id).username}", username_path(User.find(Tweet.find(t.parent_tweet_id).user_id).username), data: {turbo: false} %>
    <% end %>

    <% if !@show_replies && t.parent_tweet_id %>
    
    <% end %>

    <% if !t.body && t.retweet_id %>
      <%= render "tweets/retweet_info", t: t %>
    <% elsif t.body && t.quoted_retweet_id %>
      <%= render "tweets/quote_tweet_info", t: t, qrt: Tweet.find(t.quoted_retweet_id), show_rt: true %>
    <% else %>
      <%= render "tweets/creator_info", t: t%>
      <%= render "tweets/tweet_body", t: t %>
        <% if current_user == t.author %>
          <%= render "tweets/delete_button", t: t %>
        <% end %>
      <div class="activity-box">
        <%= render "tweets/comments", t: t %>
        <%= render "tweets/retweets", t: t %>
        <%= render "tweets/likes", t: t %>
      </div>
      <% if @show_replies && t.comments.count >= 2 %>
        <%= link_to "Show more replies", single_tweet_url(username: t.author.username, id: t.id), data: {turbo: false} %>
      <% end %>
      <% t.comments.last(2).each do |tweet| %>
        <%= render "tweets/comment_tweet_info", t: tweet %>
      <% end %>
    <% end %>
  </div>
<% end %>

<%# check for if the user is following any of the accounts of the comments %>
